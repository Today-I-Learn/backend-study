### DB 테이블에 모든 칼럼을 인덱스로 설정하지 않는 이유는?

Index는 RDBMS에서 검색 속도를 높이기 위한 기술입니다.
인덱스를 적절히 사용하면 select 시에는 빠르게 해당 값을 검색 할 수 잇습니다.
하지만 update, delete, insert 와 같은 DML 사용시에는 인덱스가 비효율적일 수 있습니다.

insert 문이 실행되면 인덱스가 존재할 경우 인덱스 테이블에 값을 추가한 뒤 해당 테이블에 값을 추가하게 됩니다.
인덱스가 없었다면 단번에 테이블에 해당 값이 추가 될 수 있지만 인덱스가 존재하기 때문에 추가 작업을 진행하게 되는 것 입니다.
이는 delete, update 모두 공통되는 사항입니다. delete 의 경우에는 해당 데이터가 지워지지만 인덱스에는 해당 데이터가 지워지는 것이 아니라 
단순히 그 데이터를 사용하지 않는다고 체크하게 됩니다. 즉 사용하지 않지만 인덱스 테이블의 용량은 그대로 유지되는 것 입니다.
이후 데이터 삽입이 이뤄진다면 인덱스 테이블의 크기는 계속 해서 증가하게 되고 사용하지 않는 데이터 정보가 많은 인덱스는 인덱스를 사용하는 이유인 검색속도 향상 성능을 제대로 보장받을 수 없게 됩니다.
이러한 문제를 해결하기 위해서는 주기적으로 인덱스 리빌딩을 통해 사용하지 않는 데이터를 삭제해주는 작업 필요합니다. 


### 데이터가 많은 테이블에 인덱스를 모두 설정하면 효율적인가요?

앞서 언급한 내용처럼 데이터가 많은 테이블에 인덱스를 모두 설정하면 insert, delete, update 작업시 모든 인덱스에 연산 작업이 필요하기 때문에 성능저하를 유발할 수 있습니다.
또한 select 사용시 100만건의 데이터 중 10건의 데이터를 조회하는 쿼리문에서는 인덱스를 사용하는 것이 검색 속도를 향상 시킬 수 있지만 조회되는 건 수가 많다면 인덱스를 걸지 않고 Table Scan 을 진행하는 것이 효율적입니다.
따라서 데이터가 많은 테이블의 경우 조회 건수가 적은 칼럼, select 에 사용되는 칼럼, where 절에 자주 사용하는 칼럼에 대해서 인덱스를 사용하는 것이 효율적입니다.