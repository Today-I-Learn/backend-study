### ACID란 무엇인가요?

ACID는 트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 성질입니다.

Atomicity(원자성)은 트랜잭션의 연산은 모든 연산이 완벽히 수행되어야 하며, 한 연산이라도 실패하면 트랜잭션은 실패해야 한다는 의미입니다.

Consistency(일관성)은 트랜잭션의 실행이 성공적으로 완료되면 데이터베이스를 항상 일관성 있는 상태로 유지해야된다 라는 것을 의미합니다.

Isolation(고립성)은 트랜잭션은 동시에 실행될 경우 다른 트랜잭션에 의해 영향을 받지 않고 독립적으로 실행되어야 한다는 것을 의미합니다.

Durability(내구성)은 트랜잭션이 커밋된 이후에는 시스템 오류가 발생하더라도 커밋된 상태로 유지되는 것을 보장해야 한다는 것을 의미합니다.

### ACID를 보장하기 위한 방법은 어떤것들이 있나요?

원자성을 보장하기 위해서는, 처리 중인 트랜잭션에서 오류가 발생했을 때 현재의 처리 중인 내용을 취소하고 트랜잭션 실행 시 임시 영역에 저장해두었던 이전의 상태 (Commit) 를 다시 불러와서 Rollback 하는 방법이 있습니다.
만약 트랜잭션이 처리해야 할 양이 많아지는 경우에는 중간 부분의 Save point 를 지정하여 해당 부분 부터만 Rollback 작업을 수행함으로써 리소스의 낭비를 방지하고 처리 시간을 단축할 수 있습니다.

트랜잭션이 일어났을 때 미리 정의된 트리거를 통해 일관성이 보장될 수 있습니다.
예를 들어, 한 쪽 데이터베이스의 테이블에 정보의 수정이 일어났을 경우 다른 쪽 테이블에도 함께 수정될 수 있도록 명시적으로 자동 업데이트를 하는 명령 등을 구성하는 방법이 있습니다.

데이터를 읽거나 쓰기 작업 중일때는 해당 영역에 Lock 을 걸어서 다른 트랜잭션이 접근하지 못하도록하고, 먼저 들어온 트랜잭션 요청이 끝나면 Unlock 하여 다른 트랜잭션이 처리될 수 있도록 허용 하는 방식을 통해 고립성을 보장할 수 있습니다.
단, Lock 과 Unlock 을 잘 못 사용하게 되는 경우 어떤 트랜잭션도 수행될 수 없는 데드락 상태에 빠질 수 있습니다.

Lock 방식으로는 Conservative Locking 과 Strict Locking 이 있습니다.

Conservative Locking 은 트랜잭션이 시작되면 모두 Lock 을 하는 방식으로 데드락이 발생하는 경우는 없으나 병행성이 떨어지게 됩니다.

Strict Locking 은 트랜잭션이 완전히 Commit 될 때까지 Lock 을 걸어두고 있다가 Commit 이 후 Unlock 을 하는 방식으로 데드락이 발생할 수 있지만 병행성이 좋으며 일반적으로는 병행성이 좋은 Strict Locking 방식을 사용합니다.

또다른 방법으로는 2 Phase Locking Protocol 이 있습니다.
데드락을 방지하기 위한 2 Phase Locking 프로토콜은, 여러 트랜잭션이 동시에 한 데이터로 접근할 수 없도록 2가지의 Lock 방법으로 트랜잭션 처리에 제한을 두는 규약을 의미합니다.
Growing Phase 에서는 Lock 만 수행되어야 하고 Shrinking Phase 에서는 Unlock 만 수행되어 Lock 과 Unlock 이 교차로 수행되지 않도록 하는 방식을 의미합니다.
특히 네트워크 환경에서는 그 환경의 특성상 ACID 특성을 보장하는 것이 매우 어려우므로 이와 같은 2 Phase Locking 프로토콜 방식을 통해 ACID 특성을 보장할 수 있습니다.